var e=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(a,o,r)=>o in a?e(a,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[o]=r;import{az as d,aK as t,aR as i,aT as u,aL as m,aA as c,as as p,av as f,ax as g,ay as b,a$ as v,aH as w,aI as h,aM as y,aJ as M,aw as O}from"./vendor.7a066e5a.js";import"./index.3a2aea1c.js";const j=d({name:"Login",setup(){const e=m();c();const d=t(null),f=i({redirect:"",formModel:{username:"",password:""},formRules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]},loading:!1});mounted((()=>{})),unmounted((()=>{}));return g=((e,a)=>{for(var o in a||(a={}))s.call(a,o)&&n(e,o,a[o]);if(r)for(var o of r(a))l.call(a,o)&&n(e,o,a[o]);return e})({},u(f)),a(g,o({userLoginForm:d,resetFormFields:()=>{f.formModel={username:"",password:""},d.value.resetFields()},handleLogin:()=>{const{username:a,password:o}=f.formModel,r={username:a,password:o};d.value.validate((a=>{if(!a)return console.log("invalid form"),!1;f.loading=!0,store.dispatch("user/login",r).then((a=>{0==+a.code?(p.success("登录成功"),e.push({path:f.redirect||"/"})):p.error(a.message||"登录错误"),f.loading=!1})).catch((()=>{f.loading=!1}))}))}}));var g}}),_=w();h("data-v-1dff3746");const L={class:"login"},V=b("div",{class:"login-bk"},[b("div",{class:"login-bk-shadow"})],-1),k={class:"login-container"},x=y(" 登录 ");M();const F=_(((e,a,o,r,s,l)=>{const n=f("el-input"),d=f("el-form-item"),t=f("el-button"),i=f("el-form");return O(),g("div",L,[V,b("div",k,[b(i,{ref:"userLoginForm",model:e.formModel,rules:e.formRules,class:"login-form","label-position":"left"},{default:_((()=>[b(d,{prop:"username"},{default:_((()=>[b(n,{modelValue:e.formModel.username,"onUpdate:modelValue":a[1]||(a[1]=a=>e.formModel.username=a),"prefix-icon":"el-icon-user",placeholder:"用户名"},null,8,["modelValue"])])),_:1}),b(d,{prop:"password"},{default:_((()=>[b(n,{modelValue:e.formModel.password,"onUpdate:modelValue":a[2]||(a[2]=a=>e.formModel.password=a),"show-password":"","prefix-icon":"el-icon-lock",placeholder:"密码"},null,8,["modelValue"])])),_:1}),b(d,null,{default:_((()=>[b(t,{loading:e.loading,type:"primary",class:"login-btn",onClick:v(e.handleLogin,["prevent"])},{default:_((()=>[x])),_:1},8,["loading","onClick"])])),_:1})])),_:1},8,["model","rules"])])])}));j.render=F,j.__scopeId="data-v-1dff3746";export default j;
